<div class="d-flex justify-content-end m-3">
    <button type="button" class="btn btn-primary ml-2" *ngIf="!editingSolutions" (click)="editSolutions()">Edit</button>
    <button type="button" class="btn btn-success ml-2" *ngIf="editingSolutions" (click)="saveSolutions()">Save</button>
    <button type="button" class="btn btn-info ml-2" *ngIf="editingSolutions" (click)="addNewSolution()">Add</button>
    <button type="button" class="btn btn-danger ml-2" *ngIf="editingSolutions" (click)="cancelEditSolutions()">Cancel</button>
</div>
<div class="table-responsive" *ngIf="discountSolutions">
    <table class="table table-striped">
        <thead>
            <tr>
                <th>
                    <span jhiTranslate="billingWebApp.discount.tabs.solutions.name">Name</span>
                </th>
                <th *ngIf="editingSolutions"></th>
            </tr>
        </thead>
        <tbody>
            <tr *ngIf="creatingSolutions" [formGroup]="formCreateNewDiscountSolution">
                <td>
                    <input type="text" class="form-control" name="newSolutionName" id="newSolutionName"
                        formControlName="name">
                </td>
                <td class="d-flex">
                    <button type="button" class="btn btn-sm btn-danger btn-circle" title="Remove"
                        (click)="discardNewSolution()">
                        <span class="fa fa-lg fa-trash"></span>
                    </button>
                    <button type="button" class="btn btn-sm btn-success btn-circle ml-2" title="Confirm"
                        [disabled]="formCreateNewDiscountSolution.invalid" (click)="confirmNewSolution()">
                        <span class="fa fa-lg fa-check"></span>
                    </button>
                </td>
            </tr>
            <tr *ngFor="let solution of discountSolutions; let i = index">
                <ng-container *ngIf="!editingSolutions; else editExistingSolutions">
                    <td> {{solution?.name}} </td>
                </ng-container>
                <ng-template #editExistingSolutions>
                    <td>
                        <input type="text" class="form-control" name="solutionName" [ngModel]="solution.name" 
                            (ngModelChange)="solution.name = $event" (ngModelChange)="onEditExistingSolution(solution)">
                    </td>
                    <td>
                        <button type="button" class="btn btn-sm btn-danger btn-circle" title="Remove"
                            (click)="removeSolution(i, solution)">
                            <span class="fa fa-lg fa-trash"></span>
                        </button>
                    </td>
                </ng-template>
            </tr>
        </tbody>
    </table>
</div>